<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>單位換算器</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f0f4f8;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }
    .converter {
        background: #fff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        width: 350px;
    }
    h1 {
        font-size: 24px;
        text-align: center;
        margin-bottom: 20px;
    }
    label, select, input {
        display: block;
        width: 100%;
        margin-bottom: 15px;
        font-size: 16px;
    }
    input, select {
        padding: 8px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
    button {
        width: 100%;
        padding: 10px;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
    }
    button:hover {
        background: #45a049;
    }
    #result {
        margin-top: 15px;
        font-size: 18px;
        text-align: center;
        color: #333;
    }
    .author {
        text-align: center;
        margin-top: 15px;
        font-size: 12px;
        color: #888;
    }
</style>
</head>
<body>

<div class="converter">
    <h1>單位換算器</h1>

    <label for="category">選擇類別：</label>
    <select id="category">
        <option value="length">長度</option>
        <option value="weight">重量</option>
        <option value="temperature">溫度</option>
        <option value="volume">容量</option>
    </select>

    <label for="inputValue">輸入數值：</label>
    <input type="number" id="inputValue" placeholder="請輸入數值">

    <label for="fromUnit">從單位：</label>
    <select id="fromUnit"></select>

    <label for="toUnit">換算到單位：</label>
    <select id="toUnit"></select>

    <button onclick="convert()">換算</button>

    <div id="result"></div>
    <div class="author">作者:李振偉</div>
</div>

<script>
const units = {
    length: {
        meter: 1,
        kilometer: 0.001,
        centimeter: 100,
        millimeter: 1000,
        inch: 39.3701,
        foot: 3.28084,
        yard: 1.09361,
        mile: 0.000621371
    },
    weight: {
        gram: 1,
        kilogram: 0.001,
        milligram: 1000,
        pound: 0.00220462,
        ounce: 0.035274
    },
    temperature: {
        celsius: 'c',
        fahrenheit: 'f',
        kelvin: 'k'
    },
    volume: {
        liter: 1,
        milliliter: 1000,
        cubicMeter: 0.001,
        cup: 4.22675,
        pint: 2.11338,
        gallon: 0.264172
    }
};

const categorySelect = document.getElementById('category');
const fromUnitSelect = document.getElementById('fromUnit');
const toUnitSelect = document.getElementById('toUnit');

function populateUnits() {
    const category = categorySelect.value;
    fromUnitSelect.innerHTML = '';
    toUnitSelect.innerHTML = '';
    for (let unit in units[category]) {
        let option1 = document.createElement('option');
        option1.value = unit;
        option1.text = unit;
        fromUnitSelect.appendChild(option1);

        let option2 = document.createElement('option');
        option2.value = unit;
        option2.text = unit;
        toUnitSelect.appendChild(option2);
    }
}
categorySelect.addEventListener('change', populateUnits);
populateUnits();

function convertTemperature(value, from, to) {
    let temp;
    if (from === 'celsius') temp = value;
    else if (from === 'fahrenheit') temp = (value - 32) * 5/9;
    else if (from === 'kelvin') temp = value - 273.15;

    if (to === 'celsius') return temp;
    else if (to === 'fahrenheit') return temp * 9/5 + 32;
    else if (to === 'kelvin') return temp + 273.15;
}

function convert() {
    const category = categorySelect.value;
    const inputValue = parseFloat(document.getElementById('inputValue').value);
    const fromUnit = fromUnitSelect.value;
    const toUnit = toUnitSelect.value;

    if (isNaN(inputValue)) {
        document.getElementById('result').textContent = '請輸入有效數值';
        return;
    }

    let result;
    if (category === 'temperature') {
        result = convertTemperature(inputValue, fromUnit, toUnit);
    } else {
        result = inputValue / units[category][fromUnit] * units[category][toUnit];
    }

    document.getElementById('result').textContent = `結果: ${result} ${toUnit}`;
}
</script>

</body>
</html>
